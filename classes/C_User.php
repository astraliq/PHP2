<?php//include_once(CLASSES . 'M_User.php');class C_User extends C_Base {		public function __construct($head, $mainMenu, $login) {        parent::__construct($head, $mainMenu, $login);    }	public function action_login(){		if($_SESSION) {			header("Location: /index.php");		};		$this->title = 'Вход в личный кабинет';		$this->mainTitle .= ' - Вход';		$this->content = $this->Template(TEMPLATES_DIR . 'login.tpl');		$this->headcontent = $this->Template(TEMPLATES_DIR . $this->head, [			'login' => $this->login,		]);	}	public function action_reg(){		if($_SESSION) {			header("Location: /index.php");		};		$this->title = 'Регистрация нового пользователя';		$this->mainTitle .= ' - Регистрация';		$this->content = $this->Template(TEMPLATES_DIR . 'reg.tpl');		$this->headcontent = $this->Template(TEMPLATES_DIR . $this->head, [			'login' => $this->login,		]);	}	public function action_logout(){		session_destroy();		header("Location: /index.php?act=login&c=user");	}	public function action_userprofile(){		if(!$_SESSION) {			header("Location: /index.php");		};		if ($this->checkAdmin()) {			$orderPageName = 'Все заказы';		} else {			$orderPageName = 'Мои заказы';		}		 		$this->title = 'Личный кабинет';		$this->mainTitle .= ' - личный кабинет';		$this->content = render(TEMPLATES_DIR . 'userprofile.tpl', [			'orders' => generateMyOrdersPage(),			'history' => 'История посещений',		]);		$this->pageName = $orderPageName;		$this->headcontent = $this->Template(TEMPLATES_DIR . $this->head, [			'login' => $this->login,		]);	}}